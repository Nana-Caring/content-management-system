<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - CMS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
</head>
<body>
    <div class="container-fluid">
        <div class="row flex-nowrap">
            <nav class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark sidebar" style="min-height: 100vh; position: fixed; left: 0; top: 0;">
                <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100" style="height: 100vh;">
                    <a href="/" class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                    </a>
                    <img src="~/images/logo.jpg" alt="Logo" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; margin: 0 auto 5px auto; display: block;" />
                    <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-start w-100" id="menu" style="font-size: 0.90rem;">
                        <li class="nav-item w-100">
                            <a asp-page="/Index" class="nav-link text-white px-2 w-100 d-flex align-items-center justify-content-start">
                                <i class="bi bi-speedometer2 me-2"></i> Dashboard
                            </a>
                        </li>
                        <li class="w-100">
                            <a asp-page="/Users/Index" class="nav-link text-white px-2 w-100 d-flex align-items-center justify-content-start">
                                <i class="bi bi-people me-2"></i> Users
                            </a>
                        </li>
                        <li class="w-100">
                            <a asp-page="/Accounts/Index" class="nav-link text-white px-2 w-100 d-flex align-items-center justify-content-start">
                                <i class="bi bi-wallet2 me-2"></i> Accounts
                            </a>
                        </li>
                        <li class="w-100">
                            <a asp-page="/Transactions/Index" class="nav-link text-white px-2 w-100 d-flex align-items-center justify-content-start">
                                <i class="bi bi-arrow-left-right me-2"></i> Transactions
                            </a>
                        </li>
                        <li class="w-100">
                            <a asp-page="/Products/Index" class="nav-link text-white px-2 w-100 d-flex align-items-center justify-content-start">
                                <i class="bi bi-box-seam me-2"></i> Products
                            </a>
                        </li>
                        <li class="w-100">
                            <a asp-page="/KYC/Index" class="nav-link text-white px-2 w-100 d-flex align-items-center justify-content-start">
                                <i class="bi bi-shield-check me-2"></i> KYC Verification
                            </a>
                        </li>
                    </ul>
                    <div class="flex-grow-1"></div>
                    <div class="w-100 d-flex flex-row align-items-start justify-content-start mb-4" style="gap: 0.5rem;">
                        <a href="/Profile" class="text-white mb-2" title="Profile">
                            <i class="bi bi-person-circle" style="font-size: 1.1rem;"></i>
                        </a>
                        <a href="/Settings" class="text-white mb-2" title="Settings">
                            <i class="bi bi-gear" style="font-size: 1.1rem;"></i>
                        </a>
                        <a href="/Notifications" class="text-white mb-2" title="Notifications">
                            <i class="bi bi-bell" style="font-size: 1.1rem;"></i>
                        </a>
                        <a href="/SignOut" class="text-white mb-2" title="Sign Out">
                            <i class="bi bi-box-arrow-right" style="font-size: 1.1rem;"></i>
                        </a>
                    </div>
                </div>
            </nav>
            <main class="col py-3" style="margin-left: 220px;">
                @RenderBody()
            </main>
        </div>
    </div>
    @if (!User.Identity.IsAuthenticated && !Context.Request.Path.Value.Contains("/Login"))
    {
        <script>
            window.location.href = "/Login";
        </script>
    }
</body>
</html>
